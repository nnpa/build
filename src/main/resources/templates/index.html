<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
    <head>
        <title>Spring Security Example </title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    </head>
    <body>
        <header th:insert="blocks/header :: header"></header>
        <div class="container">
            
            <form method="get" action="/">
                <div class="form-group">
                    <label for="cityinput">Город</label>
                    <select name="city" class="form-select" aria-label="Default select example">
                         <option th:each="item: ${cities}" th:value="${item['key']}" th:text="${item['value']}" th:selected="${item['key'] == city}"  />
                    </select>
                </div>
                <div class="form-group">
                    <label for="addressinput">Адрес</label>
                    <input type="text" name="address" th:value="${address}" class="form-control" id="addressinput"  placeholder="Адрес">
                </div>
                <div class="form-group">
                    <label for="roomsinput">Комнат</label>
                    <input type="text" th:value="${rooms}" name="rooms" class="form-control" id="roomsinput"  placeholder="Комнат">
                </div>
                <div class="form-group">
                    Площадь от
                    <input type="text" name="squarefrom" th:value="${squarefrom}" class="form-control" id="squareinput"  placeholder="Площадь от">
                    Площадь до
                    <input type="text" name="squareto" th:value="${squareto}" class="form-control" id="squareinput"  placeholder="Площадь до">

                </div>
                <div class="form-group">
                    Цена от
                    <input type="text" name="costfrom" th:value="${costfrom}" class="form-control" id="costinput"  placeholder="Цена от">
                    Цена до
                    <input type="text" name="costto" th:value="${costto}" class="form-control" id="costinput"  placeholder="Цена до">
                </div>
                <div class="form-group">
                    <br>
                    <button type="submit" class="btn btn-success">Искать</button>
                </div>
            </form>
            
            <div clas="row" th:each="apartment: ${apartments}">
                <a th:href="@{/view/{id}/(id=${apartment.id})}" th:text="'Квартира ' + ${apartment.rooms} + ' комнатная ' + ${apartment.rooms} + 'м² ' + ${apartment.address} + ' ' + ${apartment.cost} + 'р'"></a>
                <br>
                <div clas="row" th:each="image: ${apartment.getImages()}">
                    <img width="150" height="150" th:src="'/images/' + ${image.path} " ><br>
                </div>
            </div>
            
            <div class="row">
                <nav aria-label="Page navigation example">

                    <ul class="pagination" >
                        <li  th:each="pages: ${pager}"  th:class="${pages == page} ? 'page-item active': 'page-item '">
                            <a class="page-link" th:href="${href} + ${pages}" th:text=${pages}></a>
                        </li>
                    </ul>
                </nav>
            </div>

        </div>

        <div th:insert="blocks/footer :: footer"></div>
    </body>
</html>








        



